# 深入浅出Node.js

内容：

- node的特点和结构（不同角度）
- 模块化机制
- 异步I/O实现原理
- 异步编程
- 内存控制
- 二进制数据Buffer
- Node中的网络编程基础
- Node中的web开发
- 进程间通信
- Node测试
- 实战开发中的注意事项



Node在开发高并发和高性能的web服务器上有优势。

利用JavaScript引擎——V8，编写了基于事件循环的异步I/O框架。

- node
- express
- socket.io
- node-webkit
- pomelo



各种嵌套函数的解决方案：

- EventProxy
- Promise
- async
- step
- wind.js



JavaScript语言借鉴了C，Scheme，Self，Java，借鉴了函数式编程，基于原型链的继承等。





## 第一章

基于V8创建一个轻量级的Web服务器并提供一套库。



高性能的Web服务器：事件驱动和非阻塞I/O。Node是一个可以构建网络应用的基础框架，基于它可以开发服务器，客户端，命令行工具等。它是单线程，单进程的系统，有一套内置的网络库，可以构建大型分布式应用程序，Node自身通过通信协议来组织许多的节点。



### Node的特点

- 异步I/O（并行I/O操作），每个调用之间无需等待之前的I/O调用结束
- 事件和回调函数，代码的编写顺序和执行顺序无关
- 单线程，没有状态锁和线程上下文切换的性能开销
- 跨平台，Node基于libuv实现跨平台



单线程的不足：

- 无法利用多核CPU

- 一个报错导致整个应用退出

- CPU密集型任务可能导致阻塞（浏览器端借助web worker进行解决，node端借助child_process模块进行处理）

  



### 应用场景

- I/O密集型
- 对于CPU密集性应用带来的主要挑战是，由于JavaScript单线程的原因，如果有长时间运行的计算，讲捯饬CPU时间片不能释放，使得后续的I/O无法发起，但可以适当的分解大型计算任务，释放CPU的运算能力，从而不阻塞I/O调用的发起
- 中间层
- 分布式



## 第二章

JavaScript在前端的发展：工具类库（浏览器兼容性） => 组件库（功能模块） =>  前端框架（功能模块组织） => 前端应用（业务模块组织）。

早期的JavaScript天生缺乏模块的概念。

早期JavaScript的缺陷

- 没有模块系统
- 标准库较少
- 没有标准接口
- 缺乏包管理系统
